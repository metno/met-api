# Play runtime configuration

This is a strategy for configuration of different runtime environments (as recommended by Hilton, Bakker & Canedo, chapter 9.3, pp 255-258), aiming to reduce nasty surprices and avoid hardcoding of hostnames, passwords and network topology details in the source code.

All configurable variables should default to values suitable for development so that unit tests will run out of the box.

Production environment details must be specified outside of the codebase tree (which will be compiled and packed into a .jar file, which is not easily modified after deployment).


## Development

You can add a file `conf/development.conf` with personal customization. This file will be ignored by Git.

    mail.override.address = "bjarte@met.no"


## Production

Deploy a production configuration file to `/etc/met-api/production.conf` using Chef:

    include classpath("application.conf")

    # turn on emails
    email.override.enabled=false

    # set the proper basepath for production
    swagger.api.basepath="http://data.met.no"

    # reduce loglevel
    logger.application=INFO

Start the application like this:

    play "start -Dconfig.file=/etc/met-api/production.conf"


## CD/CI frameworks

Probably best to use development setup with a custom `conf/development.conf` file generated by GoCD or Jenkins.


# References

- Hilton, Bakker & Canedo (2014). _Play for Scala_. Manning
